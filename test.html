<!DOCTYPE html>
<html>

<head>
    <title>W2D2 Quiz</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.js"></script>
    <script>
        // initialize mocha
        mocha.setup('bdd');
        // chai has a lot of stuff, let's make assert global
        let assert = chai.assert;

    </script>

    <script>

var b = 5;
var c = hello(b);
var a = 1000;
var d = {a: 50, b: 90};
console.log(c.bind(d)); //that means c is a function bye() and d is the context
function hello(a) {
    console.log(this);
    a = a * 2;
    console.log(bye())
    function bye() {
        console.log(this);
        console.log(b);
        console.log(this.b);
        return a;
    }
    var b = 100;
    return bye;
}


function Computer(ram, cpu, storage) {
  this.ram = ram;
  this.cpu = cpu;
  this.storage = storage;
}

Computer.prototype.runProgram = function(program) {
  console.log("running: " + program);
};

function Laptop(ram, cpu, storage, battery) {
  Computer.call(this, ram, cpu, storage);
  this.battery = battery;
}

Laptop.prototype = Object.create(Computer.prototype);
Laptop.prototype.constructor = Laptop;

Laptop.prototype.carryAround = function() {
  console.log(
    "carrying laptop: cpu: " + this.cpu + 
    " ram: " + this.ram + 
    " storage: " + this.storage + 
    " battery: " + this.battery
  );
};


const myLaptop = new Laptop("16GB", "Intel i7", "512GB", "6 hours");
myLaptop.runProgram("Photoshop"); // running: Photoshop
myLaptop.carryAround(); // carrying laptop: cpu: Intel i7 ram: 16GB storage: 512GB battery: 6 hours


        function longestNoSpace(...strings) {
            return strings
                .filter(str => !str.includes(" "))
                .map(str => str.length)
                .reduce((max, len) => len > max ? len : max, 0);
        }

        const countObject = (function () {
            let counter = 0;

            const add = function () {
                return ++counter;
            };

            const reset = function () {
                counter = 0;
                return counter;
            };

            return {
                add: add,
                reset: reset
            };
        })();

        const module = (function () {
            const privateFunction = function () {
                // private
            };
            const someFunction = function () {
                // public
            };
            const anotherFunction = function () {
                // public
            };
            return {
                //privateFunction: privateFunction, // not accessible
                someMethod: someFunction,
                anotherMethod: anotherFunction
            };
        })();

        function make_adder(inc) {
            let counter = 0;
            return function () {
                return counter += inc;
            };
        }

        const employeeObject = (function () {
            let name;
            let age;
            let salary;

            const privateGetName = function () {
                return name;
            };

            const privateGetAge = function () {
                return age;
            };

            const privateGetSalary = function () {
                return salary;
            };

            const setName = function (newName) {
                name = newName;
            };

            const setAge = function (newAge) {
                age = newAge;
            };

            const setSalary = function (newSalary) {
                salary = newSalary;
            };

            const increaseSalary = function (percentage) {
                setSalary(privateGetSalary() * (1 + percentage / 100));
            };

            const incrementAge = function () {
                setAge(privateGetAge() + 1);
            };

            return {
                setName: setName,
                setAge: setAge,
                setSalary: setSalary,
                increaseSalary: increaseSalary,
                incrementAge: incrementAge,
            };
        })();

        const moduleExtension = (function (employeeObject) {
            let address;

            const setAddress = function (newAddress) {
                address = newAddress;
            };

            const getAddress = function () {
                return address;
            };

            return {
                ...employeeObject,
                setAddress: setAddress,
                getAddress: getAddress,
            };
        })(employeeObject);


        var me = {
            first: 'Josh',
            last: 'Splinter',
            getFullName: function () {
                return this.first + ' ' + this.last;
            }
        };

        var you = {
            first: 'William',
            last: 'Smith'
        };

        //console.log(me.getFullName.apply(you));

        //Modify the jsFiddle at: https://jsfiddle.net/TinaXing/oofzum89/ so that the example works with call.
        var me = {
            first: 'Josh',
            last: 'Splinter',
            getFullName: function () {
                return this.first + ' ' + this.last;
            }
        };

        var you = {
            first: 'William',
            last: 'Smith'
        };

        //console.log(me.getFullName.call(you));

        //Modify the jsFiddle at: https://jsfiddle.net/TinaXing/oofzum89/ so that the example works with bind.
        var me = {
            first: 'Josh',
            last: 'Splinter',
            getFullName: function () {
                return this.first + ' ' + this.last;
            }
        };

        var you = {
            first: 'William',
            last: 'Smith'
        };

/*
windown - from the global scope
undefined - from the test function scope
windown - global scope
5 from global scope
Object {x: 4} -- The this provided by bind
4 -- x inside the object provided by bind
*/


/*
- simple regrex
- 
*/

    </script>
    <script src="code.js"></script>
    <script>
        describe("longestNoSpace", function () {
            it("returns 0 if given zero parameters", () => {
                assert.equal(longestNoSpace(), 0);
            });
            it("returns 0 if given a single string that contains a space", () => {
                assert.equal(longestNoSpace("a test"), 0);
            })
            it("returns 0 if given only strings that contains spaces", () => {
                assert.equal(longestNoSpace("this is", "a test"), 0);
            });
            it("returns the length of the string if given a single string without a space", () => {
                assert.equal(longestNoSpace("hello"), 5);
            });
            it("returns the length of the longest string if given multiple strings without spaces", () => {
                assert.equal(longestNoSpace("hello", "world!"), 6);
            });
        });

    </script>
</head>

<body>
    <div id="mocha"></div>
    <script>
        mocha.run();

    </script>
</body>

</html>